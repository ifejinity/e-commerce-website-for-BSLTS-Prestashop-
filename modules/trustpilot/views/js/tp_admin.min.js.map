{"version":3,"sources":["tp_admin.js"],"names":["receiveSettings","e","origin","location","receiveInternalData","trustpilot_integration_app_url","data","startsWith","split","action","this","submitPastOrdersCommand","resync","issynced","submitCheckProductSkusCommand","updateplugin","reloadSettings","handleJSONMessage","parsedData","tryParseJson","type","submitSettings","requestCategoryInfo","TrustBoxPreviewMode","trustBoxPreviewMode","window","updateIframeSize","trustbox","document","getElementById","contentWindow","postMessage","JSON","stringify","xhr","XMLHttpRequest","open","trustpilot_ajax_url","setRequestHeader","onreadystatechange","readyState","status","console","log","response","products","list","map","p","id_product","controller","user_id","send","btoa","encodeSettings","settings","div","enable","hidden","sendPastOrdersInfo","token","context_scope","iframe","dataset","transfer","pluginOldVersion","pluginVersion","parse","reload","attrs","undefined","pastOrders","pageUrls","encodeURIComponent","customTrustboxes","encodedString","setting","substring","length","height","sendSettings","atob","source","version","basis","productIdentificationOptions","isFromMarketplace","configurationScopeTree","trustboxes","sku","name","getTokenAndController","vars","search","i","pair","help_class_name","str","out","Object","assign","addEventListener"],"mappings":"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","file":"tp_admin.min.js"}